<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Five Forks Fire Weather</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body data-color-scheme="light">
    <div class="container">
        <!-- Header with Title and Controls -->
        <header>
            <div class="location-info">
                <h1>Five Forks</h1>
                <p class="subtitle">Virginia Fire Weather</p>
            </div>
            <div class="header-controls">
                <button class="icon-btn" id="themeToggle" aria-label="Toggle day/night mode" title="Toggle theme">üåó</button>
                <button class="icon-btn" id="refreshBtn" aria-label="Refresh data" title="Refresh">üîÑ</button>
            </div>
        </header>

        <!-- Quick Links Bar -->
        <div class="quick-links">
            <a href="https://firms.modaps.eosdis.nasa.gov/map/" target="_blank" class="link-btn">
                <span class="link-icon">üõ∞Ô∏è</span>
                <span class="link-label">FIRMS</span>
            </a>
            <a href="https://www.weather.gov/akq/" target="_blank" class="link-btn">
                <span class="link-icon">üåßÔ∏è</span>
                <span class="link-label">NWS</span>
            </a>
            <a href="https://maps.app.goo.gl/vcWebUQrrLSY8gX4A" target="_blank" class="link-btn">
                <span class="link-icon">üó∫Ô∏è</span>
                <span class="link-label">Equip</span>
            </a>
            <a href="https://www.windy.com/?37.233,-77.400,8" target="_blank" class="link-btn">
                <span class="link-icon">üå™Ô∏è</span>
                <span class="link-label">Windy</span>
            </a>
        </div>

        <!-- County Cards Section -->
        <section class="counties-section">
            <h2>County Conditions</h2>
            <div class="county-grid" id="countyGrid">
                <!-- County cards will be dynamically generated here by dashboard.js -->
            </div>
        </section>

        <!-- Map Section (if you want to add a map container) -->
        <section class="map-section" data-color-scheme="light">
            <h2>Fire Activity Map</h2>
            <div id="map"></div>
        </section>

        <!-- Footer -->
        <footer>
            <p>Last updated: <span id="lastUpdate">Loading...</span></p>
            <p class="data-note">Data updates every 6 hours ‚Ä¢ NWS + FIRMS</p>
        </footer>
    </div>

    import json

# Input JSON block
data = {
    "period": "2025-11-15 to 2025-11-16",
    "leaf_fall": 75,
    "greenup_factor": 0,
    "counties": ["Amelia", "Brunswick", "Dinwiddie", "Greensville", "Nottoway", "Prince George"],
    "forecast": {
        "2025-11-15": {
            "local_class": 2,
            "DOF_class": 2,
            "temp_max": 55,
            "temp_min": 37,
            "RH_min": 36,
            "wind": "W 5‚Äì8 mph",
            "rain": 0.00,
            "CSI": 360,
            "HDWI": "Low"
        },
        "2025-11-16": {
            "local_class": 3,
            "DOF_class": 3,
            "temp_max": 71,
            "temp_min": 51,
            "RH_min": 32,
            "wind": "SW 8‚Äì12 mph",
            "rain": 0.01,
            "CSI": 362,
            "HDWI": "Moderate"
        }
    },
    "notes": [
        "Nov 16 meets 30/30/30 crossover",
        "Rainfall not suppressive",
        "Greensville in extreme drought",
        "HDWI elevated on Nov 16"
    ]
}

# Generate HTML table
def render_table(data):
    html = f"<h2>üî• Fire Danger Forecast ‚Äî {data['period']}</h2>"
    html += "<table border='1' cellpadding='6'><tr><th>Field</th><th>Nov 15</th><th>Nov 16</th></tr>"
    for key in data["forecast"]["2025-11-15"]:
        val1 = data["forecast"]["2025-11-15"][key]
        val2 = data["forecast"]["2025-11-16"][key]
        html += f"<tr><td>{key.replace('_', ' ').title()}</td><td>{val1}</td><td>{val2}</td></tr>"
    html += "</table>"

    html += "<h3>üß† Class Logic</h3>"
    html += f"<p>Leaf Fall: {data['leaf_fall']}%<br>Green-up Factor: {data['greenup_factor']}</p>"

    html += "<h3>üìù Notes</h3><ul>"
    for note in data["notes"]:
        html += f"<li>{note}</li>"
    html += "</ul>"

    return html

# Output HTML string
html_output = render_table(data)
print(html_output)
    
    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
